import React, { useEffect, useRef } from 'react';
import rough from 'roughjs';

const SketchTitleComponent = ({ 
  width = 600, 
  height = 200, 
  text = "Sketch !",
  color = 'rgba(25, 99, 183, 0.52)',
  stroke = '#000',
  strokeWidth = 1,
  isLogin = false,
  isRegister = false,
  isTitle = false,
  fps = 10 
}) => {

  const TITLE_SVG_PATH = "M 65.496 73.338 Q 64.059 74.596 62.486 72.17 Q 60.914 69.744 59.297 64.848 Q 57.68 59.951 56.108 53.123 Q 54.535 46.295 53.098 38.658 Q 51.66 31.022 50.358 23.16 Q 49.055 15.299 48.067 8.381 Q 48.067 7.123 48.022 5.821 Q 47.977 4.518 48.291 3.395 Q 48.606 2.272 49.459 1.373 Q 50.313 0.475 52.11 0.026 Q 52.289 -0.064 52.873 0.16 Q 53.457 0.385 54.086 0.699 Q 54.715 1.014 55.209 1.373 Q 55.703 1.733 55.883 2.002 Q 54.715 18.803 59.746 34.705 Q 60.016 34.436 61.184 32.864 Q 62.352 31.291 64.149 29.18 Q 65.945 27.069 68.236 24.643 Q 70.527 22.217 73.043 20.151 Q 75.559 18.084 78.074 16.692 Q 80.59 15.299 82.926 15.299 Q 84.274 15.299 85.576 15.928 Q 86.879 16.557 86.879 18.354 Q 86.879 18.533 86.789 18.848 Q 86.699 19.162 86.699 19.342 Q 85.262 20.6 82.342 23.205 Q 79.422 25.811 76.188 29.045 Q 72.953 32.28 69.988 35.783 Q 67.024 39.287 65.496 42.432 Q 65.227 42.971 65.317 43.375 Q 65.406 43.78 65.496 44.319 Q 66.485 44.678 68.641 45.397 Q 70.797 46.116 73.402 47.059 Q 76.008 48.002 78.973 49.035 Q 81.938 50.069 84.543 51.057 Q 87.149 52.045 89.26 52.809 Q 91.371 53.573 92.449 53.932 Q 93.707 54.471 94.516 54.651 Q 95.324 54.83 95.774 55.145 Q 96.223 55.459 96.402 55.998 Q 96.582 56.537 96.582 57.616 Q 96.582 60.221 95.324 61.03 Q 94.067 61.838 91.731 61.838 Q 84.813 61.389 78.164 58.918 Q 71.516 56.448 64.688 52.944 Q 64.418 54.651 64.912 56.897 Q 65.406 59.143 66.125 61.389 Q 66.844 63.635 67.518 65.791 Q 68.192 67.948 68.326 69.655 Q 68.461 71.362 67.922 72.35 Q 67.383 73.338 65.496 73.338 Z M 253 16.737 Q 253 15.748 253.225 14.266 Q 253.449 12.783 254.033 11.436 Q 254.617 10.088 255.516 9.145 Q 256.414 8.201 257.852 8.201 Q 257.942 8.201 258.301 8.291 Q 258.66 8.381 258.75 8.381 Q 260.277 13.951 260.547 19.432 Q 260.817 24.912 260.367 30.078 Q 259.918 35.244 259.02 40.051 Q 258.121 44.858 257.537 48.901 Q 256.953 52.944 256.818 56.178 Q 256.684 59.412 257.762 61.658 Q 257.582 60.221 257.537 58.199 Q 257.492 56.178 257.897 54.022 Q 258.301 51.866 259.244 49.709 Q 260.188 47.553 261.985 45.846 Q 263.781 44.139 266.611 43.151 Q 269.442 42.162 273.664 42.162 Q 278.067 42.162 281.256 43.69 Q 284.445 45.217 286.512 47.867 Q 288.578 50.518 289.611 54.067 Q 290.645 57.616 290.645 61.658 Q 290.645 63.545 290.6 65.926 Q 290.555 68.307 289.971 70.328 Q 289.387 72.35 287.904 73.742 Q 286.422 75.135 283.547 75.135 Q 283.547 73.698 283.727 71.227 Q 283.906 68.756 283.951 65.971 Q 283.996 63.186 283.772 60.311 Q 283.547 57.436 282.559 55.145 Q 281.57 52.854 279.818 51.371 Q 278.067 49.889 275.012 49.889 Q 273.934 49.889 272.361 50.024 Q 270.789 50.158 269.172 50.877 Q 267.555 51.596 266.027 53.078 Q 264.5 54.561 263.602 57.121 Q 262.703 59.682 262.568 63.59 Q 262.434 67.498 263.512 73.158 Q 262.883 74.776 261.94 75.045 Q 260.996 75.315 259.559 75.315 Q 256.684 75.315 254.842 73.293 Q 253 71.272 252.012 67.858 Q 251.024 64.444 250.709 59.951 Q 250.395 55.459 250.485 50.563 Q 250.574 45.666 250.979 40.59 Q 251.383 35.514 251.787 30.977 Q 252.192 26.44 252.596 22.711 Q 253 18.983 253 16.737 Z M 26.055 5.866 Q 23.539 5.866 20.574 6.629 Q 17.61 7.393 14.69 8.741 Q 11.77 10.088 9.119 12.065 Q 6.469 14.041 4.447 16.422 Q 2.426 18.803 1.213 21.453 Q 0 24.104 0 27.069 Q 0 30.662 1.483 33.088 Q 2.965 35.514 5.436 37.221 Q 7.906 38.928 11.051 40.051 Q 14.195 41.174 17.475 42.117 Q 20.754 43.061 23.899 43.959 Q 27.043 44.858 29.514 46.205 Q 31.985 47.553 33.467 49.44 Q 34.949 51.326 34.949 54.201 Q 34.949 56.448 33.512 58.02 Q 32.074 59.592 29.873 60.76 Q 27.672 61.928 25.067 62.961 Q 22.461 63.994 20.08 65.162 Q 17.699 66.33 15.858 67.723 Q 14.016 69.116 13.567 71.272 Q 13.117 72.53 13.432 73.338 Q 13.746 74.147 14.33 74.551 Q 14.914 74.955 15.723 75.135 Q 16.531 75.315 17.25 75.315 Q 19.496 75.315 22.371 74.282 Q 25.246 73.248 28.256 71.586 Q 31.266 69.924 34.141 67.678 Q 37.016 65.432 39.307 62.961 Q 41.598 60.491 42.99 57.93 Q 44.383 55.369 44.383 53.033 Q 44.383 48.721 41.688 46.16 Q 38.992 43.6 34.949 42.028 Q 30.906 40.455 26.1 39.332 Q 21.293 38.209 17.25 36.772 Q 13.207 35.334 10.512 33.133 Q 7.817 30.932 7.817 27.069 Q 7.817 24.373 9.344 22.262 Q 10.871 20.151 13.297 18.533 Q 15.723 16.916 18.777 15.703 Q 21.832 14.491 24.797 13.682 Q 27.762 12.873 30.457 12.379 Q 33.152 11.885 34.86 11.705 L 34.86 9.639 Q 34.86 9.549 33.961 9.055 Q 33.063 8.561 31.805 7.977 Q 30.547 7.393 29.199 6.764 Q 27.852 6.135 27.043 5.866 L 26.055 5.866 Z M 150.399 27.069 Q 150.219 27.069 149.5 27.787 Q 148.781 28.506 148.422 28.955 Q 148.332 29.225 148.332 29.405 Q 148.242 29.584 148.242 29.854 Q 148.242 30.213 148.332 30.393 Q 148.332 30.662 148.422 30.842 Q 148.602 31.201 149.32 31.965 Q 150.039 32.729 150.399 32.729 L 167.738 36.682 Q 170.524 37.311 171.781 40.141 Q 173.039 42.971 173.623 46.969 Q 174.207 50.967 174.477 55.549 Q 174.746 60.131 175.555 64.219 Q 176.363 68.307 178.026 71.272 Q 179.688 74.237 183.102 75.135 Q 184.449 75.584 185.213 75.27 Q 185.977 74.955 186.381 74.371 Q 186.785 73.787 186.92 73.024 Q 187.055 72.26 187.055 71.541 Q 187.055 67.588 185.797 63.905 Q 184.539 60.221 183.057 56.537 Q 181.574 52.854 180.317 49.125 Q 179.059 45.397 179.059 41.444 Q 179.059 41.084 179.149 40.006 Q 179.238 38.928 179.238 38.479 Q 180.047 38.479 181.754 38.434 Q 183.461 38.389 185.527 38.209 Q 187.594 38.03 189.93 37.805 Q 192.266 37.58 194.332 37.401 Q 196.399 37.221 198.061 36.996 Q 199.723 36.772 200.442 36.682 Q 202.867 36.233 203.721 35.424 Q 204.574 34.616 204.574 32.729 Q 204.574 30.213 203.317 29.539 Q 202.059 28.866 199.947 29.135 Q 197.836 29.405 195.141 30.123 Q 192.445 30.842 189.615 30.977 Q 186.785 31.112 184.09 30.213 Q 181.395 29.315 179.283 26.35 Q 177.172 23.385 175.914 17.905 Q 174.656 12.424 174.656 3.35 Q 171.961 3.35 170.479 4.832 Q 168.996 6.315 168.322 8.606 Q 167.649 10.897 167.559 13.727 Q 167.469 16.557 167.693 19.162 Q 167.918 21.768 168.188 23.924 Q 168.457 26.08 168.457 27.069 L 150.399 27.069 Z M 100.086 50.158 Q 100.086 45.307 101.254 40.455 Q 102.422 35.604 104.983 31.741 Q 107.543 27.877 111.631 25.451 Q 115.719 23.026 121.559 23.026 Q 124.883 23.026 127.399 24.239 Q 129.914 25.451 131.621 27.428 Q 133.328 29.405 134.182 32.055 Q 135.035 34.705 135.035 37.58 Q 135.035 42.162 132.924 46.475 Q 130.813 50.787 127.264 54.067 Q 123.715 57.346 119.133 59.008 Q 114.551 60.67 109.789 59.772 Q 109.879 62.377 111.541 63.949 Q 113.203 65.522 115.539 66.33 Q 117.875 67.139 120.391 67.364 Q 122.906 67.588 124.883 67.588 Q 126.949 67.588 128.746 67.229 Q 130.543 66.869 132.34 66.42 Q 134.137 65.971 135.979 65.612 Q 137.82 65.252 139.887 65.252 Q 140.695 65.252 141.504 65.342 Q 142.313 65.432 143.031 65.746 Q 143.75 66.061 144.199 66.735 Q 144.649 67.408 144.649 68.397 Q 144.649 70.104 143.391 71.227 Q 142.133 72.35 140.201 73.158 Q 138.27 73.967 135.934 74.371 Q 133.598 74.776 131.397 75 Q 129.195 75.225 127.354 75.27 Q 125.512 75.315 124.613 75.315 Q 118.863 75.315 114.281 73.473 Q 109.699 71.631 106.555 68.352 Q 103.41 65.073 101.748 60.446 Q 100.086 55.819 100.086 50.158 Z M 109.61 44.319 Q 109.61 47.463 110.463 48.901 Q 111.317 50.338 114.641 50.338 Q 116.977 50.338 119.223 49.485 Q 121.469 48.631 123.311 47.104 Q 125.152 45.576 126.231 43.51 Q 127.309 41.444 127.309 39.018 Q 127.309 37.67 127.084 36.233 Q 126.86 34.795 126.141 33.582 Q 125.422 32.369 124.299 31.606 Q 123.176 30.842 121.379 30.842 Q 118.684 30.842 116.483 32.055 Q 114.281 33.268 112.754 35.199 Q 111.227 37.131 110.418 39.512 Q 109.61 41.893 109.61 44.319 Z M 206.192 48.092 Q 206.192 44.319 207.854 40.186 Q 209.516 36.053 212.301 32.684 Q 215.086 29.315 218.725 27.069 Q 222.363 24.823 226.406 24.823 Q 228.473 24.823 230.539 25.541 Q 232.606 26.26 234.268 27.608 Q 235.93 28.955 236.963 30.842 Q 237.996 32.729 237.996 35.065 Q 236.379 35.065 235.076 34.705 Q 233.774 34.346 232.516 33.852 Q 231.258 33.358 230.045 32.998 Q 228.832 32.639 227.395 32.639 Q 223.711 32.639 221.42 34.481 Q 219.129 36.323 217.781 39.108 Q 216.434 41.893 215.94 45.082 Q 215.445 48.272 215.445 51.057 Q 215.445 51.506 215.49 52.764 Q 215.535 54.022 215.58 55.414 Q 215.625 56.807 215.67 58.065 Q 215.715 59.323 215.805 59.772 Q 216.793 61.928 217.736 63.096 Q 218.68 64.264 219.758 64.848 Q 220.836 65.432 222.094 65.567 Q 223.352 65.701 225.059 65.701 Q 227.395 65.701 229.147 64.983 Q 230.899 64.264 232.426 63.276 Q 233.953 62.287 235.301 61.074 Q 236.649 59.862 238.131 58.828 Q 239.613 57.795 241.365 57.121 Q 243.117 56.448 245.363 56.448 Q 245.363 60.85 243.791 64.264 Q 242.219 67.678 239.389 70.104 Q 236.559 72.53 232.74 73.832 Q 228.922 75.135 224.43 75.135 Q 220.207 75.135 216.838 72.26 Q 213.469 69.385 211.088 65.207 Q 208.707 61.03 207.449 56.358 Q 206.192 51.686 206.192 48.092 Z M 294.418 7.662 Q 296.844 5.416 298.192 6.674 Q 299.539 7.932 300.213 11.436 Q 300.887 14.94 300.977 19.836 Q 301.067 24.733 301.111 29.854 Q 301.156 34.975 301.291 39.557 Q 301.426 44.139 302.055 46.834 Q 302.055 48.182 301.875 49.17 Q 301.695 50.158 301.246 50.787 Q 300.797 51.416 299.809 51.731 Q 298.82 52.045 297.203 52.045 Q 296.934 52.045 296.664 51.776 Q 296.395 51.506 296.125 50.203 Q 295.856 48.901 295.586 46.16 Q 295.317 43.42 295.092 38.479 Q 294.867 33.537 294.643 26.08 Q 294.418 18.623 294.418 7.662 Z M 301.156 67.319 Q 302.324 67.319 303.447 68.037 Q 304.57 68.756 304.885 69.789 Q 305.199 70.823 304.301 72.08 Q 303.402 73.338 300.438 74.416 Q 298.012 74.057 296.979 73.203 Q 295.945 72.35 295.811 71.407 Q 295.676 70.463 296.26 69.52 Q 296.844 68.576 297.697 67.903 Q 298.551 67.229 299.539 67.004 Q 300.527 66.78 301.156 67.319 Z"
  const LOGIN_SVG_PATH = "M 103.491 93.897 Q 107.593 93.897 110.816 92.395 Q 114.038 90.894 116.272 88.294 Q 118.506 85.694 119.714 82.361 Q 120.923 79.028 120.923 75.44 Q 120.923 73.609 120.74 70.606 Q 120.557 67.603 120.191 64.087 Q 119.824 60.571 119.129 56.909 Q 118.433 53.247 117.407 49.988 Q 116.382 46.729 114.88 44.275 Q 113.379 41.821 111.401 40.796 Q 109.497 42.261 107.666 43.469 Q 105.835 44.678 103.858 45.484 Q 101.88 46.289 99.756 46.765 Q 97.632 47.241 95.215 47.241 Q 92.066 47.241 89.832 46.655 Q 87.598 46.069 86.096 44.678 Q 84.595 43.286 83.862 41.016 Q 83.13 38.745 83.13 35.303 Q 83.13 32.886 84.302 30.579 Q 85.474 28.272 87.415 26.257 Q 89.356 24.243 91.809 22.559 Q 94.263 20.874 96.863 19.629 Q 99.463 18.384 101.99 17.725 Q 104.517 17.066 106.494 17.066 Q 108.399 17.066 109.644 17.175 Q 110.889 17.285 111.768 17.761 Q 112.647 18.237 113.269 19.226 Q 113.892 20.215 114.478 21.9 Q 116.162 27.612 118.359 34.204 Q 120.557 40.796 122.534 47.754 Q 124.512 54.712 125.867 61.78 Q 127.222 68.848 127.222 75.44 Q 127.222 81.299 125.574 85.364 Q 123.926 89.429 121.253 92.029 Q 118.579 94.629 115.173 96.021 Q 111.768 97.412 108.325 97.815 Q 104.883 98.218 101.66 97.998 Q 98.438 97.778 96.094 97.156 Q 93.75 96.533 92.542 95.728 Q 91.333 94.922 91.956 94.373 Q 92.578 93.823 95.288 93.604 Q 97.998 93.384 103.491 93.897 Z M 104.517 23.218 Q 99.097 24.39 95.764 26.477 Q 92.432 28.565 90.784 30.945 Q 89.136 33.325 88.989 35.706 Q 88.843 38.086 89.868 39.771 Q 90.894 41.455 92.835 42.298 Q 94.776 43.14 97.266 42.371 Q 99.756 41.602 102.576 39.038 Q 105.396 36.475 108.252 31.421 Q 108.252 30.176 108.289 28.711 Q 108.325 27.246 108.032 26.038 Q 107.739 24.829 106.934 24.024 Q 106.128 23.218 104.517 23.218 Z M 0 6.885 Q 0 5.42 0.989 4.981 Q 1.978 4.541 3.15 4.541 Q 3.369 4.541 3.992 4.614 Q 4.614 4.688 4.761 4.688 Q 4.981 6.958 5.2 10.144 Q 5.42 13.33 5.713 17.029 Q 6.006 20.728 6.445 24.683 Q 6.885 28.638 7.691 32.41 Q 8.496 36.182 9.668 39.588 Q 10.84 42.993 12.525 45.484 Q 12.891 46.143 13.22 46.472 Q 13.55 46.802 13.88 46.985 Q 14.209 47.168 14.649 47.205 Q 15.088 47.241 15.747 47.241 Q 18.75 47.241 21.497 46.216 Q 24.243 45.191 26.953 43.945 Q 29.663 42.7 32.446 41.675 Q 35.23 40.65 38.306 40.65 Q 38.965 40.65 39.99 40.613 Q 41.016 40.576 41.895 40.723 Q 42.774 40.869 43.433 41.455 Q 44.092 42.041 44.092 43.213 Q 44.092 44.312 42.114 45.593 Q 40.137 46.875 37.061 48.157 Q 33.984 49.439 30.359 50.684 Q 26.734 51.929 23.401 52.881 Q 20.068 53.833 17.505 54.382 Q 14.942 54.932 14.136 54.932 Q 11.499 54.932 9.485 53.137 Q 7.471 51.343 5.969 48.303 Q 4.468 45.264 3.442 41.345 Q 2.417 37.427 1.758 33.179 Q 1.099 28.931 0.733 24.756 Q 0.366 20.581 0.22 16.992 Q 0.073 13.403 0.037 10.694 Q 0 7.984 0 6.885 Z M 148.316 26.66 L 149.048 26.66 Q 149.268 27.832 149.561 29.37 Q 149.854 30.908 150.44 32.52 Q 151.026 34.131 151.831 35.486 Q 152.637 36.841 153.809 37.647 Q 153.882 35.083 155.09 32.703 Q 156.299 30.322 158.093 28.455 Q 159.888 26.587 162.048 25.305 Q 164.209 24.024 166.333 23.584 L 167.944 23.584 Q 171.46 23.584 173.95 25.159 Q 176.441 26.734 178.088 29.26 Q 179.736 31.787 180.615 35.01 Q 181.494 38.233 181.97 41.565 Q 182.446 44.898 182.556 48.01 Q 182.666 51.123 182.666 53.32 L 177.319 53.32 Q 176.88 48.926 176.221 44.898 Q 176.001 43.286 175.635 41.492 Q 175.269 39.697 174.829 38.123 Q 174.39 36.548 173.877 35.193 Q 173.364 33.838 172.705 32.886 Q 172.412 32.593 171.936 32.08 Q 171.46 31.568 170.947 31.055 Q 170.435 30.542 169.995 30.176 Q 169.556 29.81 169.483 29.81 Q 167.285 29.224 165.674 30.652 Q 164.063 32.08 162.817 34.497 Q 161.572 36.914 160.803 39.99 Q 160.034 43.067 159.522 45.886 Q 159.009 48.706 158.789 50.794 Q 158.569 52.881 158.496 53.32 Q 156.665 54.639 155.054 54.09 Q 153.442 53.54 152.014 51.782 Q 150.586 50.025 149.451 47.388 Q 148.316 44.751 147.363 41.785 Q 146.411 38.819 145.642 35.816 Q 144.873 32.813 144.287 30.249 Q 144.287 28.345 145.239 27.503 Q 146.192 26.66 148.316 26.66 Z M 46.948 40.064 Q 46.948 35.523 49.072 31.604 Q 51.196 27.686 54.675 24.866 Q 58.154 22.046 62.512 20.435 Q 66.87 18.823 71.338 18.823 Q 73.828 18.823 75.769 20.435 Q 77.71 22.046 79.028 24.353 Q 80.347 26.66 81.043 29.224 Q 81.738 31.787 81.738 33.692 Q 81.738 37.793 79.761 41.638 Q 77.783 45.484 74.634 48.45 Q 71.484 51.416 67.529 53.247 Q 63.574 55.078 59.619 55.078 Q 56.104 55.078 53.687 53.87 Q 51.27 52.661 49.805 50.647 Q 48.34 48.633 47.644 45.886 Q 46.948 43.14 46.948 40.064 Z M 53.174 40.796 Q 53.174 42.7 53.504 44.129 Q 53.833 45.557 54.675 46.582 Q 55.518 47.608 56.909 48.157 Q 58.301 48.706 60.352 48.706 Q 63.062 48.706 65.772 47.205 Q 68.482 45.703 70.642 43.396 Q 72.803 41.089 74.121 38.306 Q 75.44 35.523 75.44 32.886 Q 75.44 31.714 75.22 30.322 Q 75 28.931 74.487 27.759 Q 73.975 26.587 73.023 25.781 Q 72.07 24.976 70.606 24.976 Q 69.287 24.976 67.493 25.855 Q 65.698 26.734 63.757 28.125 Q 61.817 29.517 59.949 31.275 Q 58.081 33.032 56.543 34.79 Q 55.005 36.548 54.089 38.159 Q 53.174 39.771 53.174 40.796 Z M 130.078 27.466 Q 130.078 27.027 130.115 26.038 Q 130.151 25.049 130.188 23.95 Q 130.225 22.852 130.261 21.826 Q 130.298 20.801 130.298 20.361 Q 131.104 19.19 132.385 18.457 Q 133.667 17.725 134.985 17.285 Q 135.205 21.24 136.231 25.708 Q 137.256 30.176 138.428 34.68 Q 139.6 39.185 140.515 43.579 Q 141.431 47.974 141.431 51.782 Q 141.431 55.078 138.062 55.078 Q 136.011 55.078 134.619 53.394 Q 133.228 51.709 132.385 49.109 Q 131.543 46.509 131.03 43.323 Q 130.518 40.137 130.335 37.061 Q 130.151 33.985 130.115 31.421 Q 130.078 28.858 130.078 27.466 Z M 131.104 0 Q 132.495 0.586 133.447 1.904 Q 134.4 3.223 134.29 4.285 Q 134.18 5.347 132.642 5.75 Q 131.104 6.152 127.515 4.907 Q 127.515 2.93 128.284 1.465 Q 129.053 0 131.104 0 Z"
  const REGISTER_SVG_PATH = "M 101.023 92.532 Q 104.688 92.532 107.566 91.191 Q 110.445 89.85 112.441 87.527 Q 114.437 85.204 115.516 82.227 Q 116.596 79.25 116.596 76.044 Q 116.596 74.408 116.432 71.725 Q 116.269 69.043 115.941 65.902 Q 115.614 62.762 114.993 59.49 Q 114.371 56.219 113.455 53.307 Q 112.539 50.395 111.198 48.204 Q 109.856 46.012 108.09 45.096 Q 106.389 46.404 104.753 47.484 Q 103.117 48.563 101.351 49.283 Q 99.584 50.003 97.687 50.428 Q 95.789 50.853 93.63 50.853 Q 90.816 50.853 88.821 50.33 Q 86.825 49.807 85.484 48.563 Q 84.143 47.32 83.488 45.292 Q 82.834 43.264 82.834 40.188 Q 82.834 38.029 83.881 35.968 Q 84.928 33.907 86.662 32.108 Q 88.396 30.308 90.587 28.804 Q 92.779 27.299 95.102 26.186 Q 97.425 25.074 99.682 24.485 Q 101.939 23.896 103.706 23.896 Q 105.407 23.896 106.52 23.995 Q 107.632 24.093 108.417 24.518 Q 109.202 24.943 109.758 25.827 Q 110.314 26.71 110.838 28.215 Q 112.343 33.318 114.306 39.207 Q 116.269 45.096 118.035 51.311 Q 119.802 57.527 121.012 63.841 Q 122.223 70.155 122.223 76.044 Q 122.223 81.278 120.75 84.91 Q 119.278 88.541 116.89 90.864 Q 114.502 93.186 111.459 94.43 Q 108.417 95.673 105.342 96.033 Q 102.267 96.392 99.388 96.196 Q 96.509 96 94.415 95.444 Q 92.321 94.888 91.242 94.168 Q 90.162 93.448 90.718 92.957 Q 91.274 92.467 93.695 92.27 Q 96.116 92.074 101.023 92.532 Z M 101.939 29.392 Q 97.098 30.439 94.121 32.304 Q 91.144 34.169 89.671 36.295 Q 88.199 38.422 88.068 40.548 Q 87.938 42.675 88.854 44.18 Q 89.77 45.684 91.503 46.437 Q 93.237 47.189 95.462 46.502 Q 97.687 45.815 100.206 43.525 Q 102.725 41.235 105.276 36.721 Q 105.276 35.608 105.309 34.3 Q 105.342 32.991 105.08 31.912 Q 104.818 30.832 104.099 30.112 Q 103.379 29.392 101.939 29.392 Z M 13.413 38.029 L 11.319 38.029 Q 12.366 40.45 13.184 42.348 Q 14.002 44.245 14.558 46.012 Q 15.114 47.778 15.409 49.578 Q 15.703 51.377 15.703 53.471 L 15.703 54.55 Q 15.703 55.172 15.638 55.826 Q 15.572 56.48 15.245 57.004 Q 14.918 57.527 14.198 57.724 Q 11.516 56.153 9.389 52.849 Q 7.263 49.545 5.692 45.292 Q 4.122 41.039 3.042 36.263 Q 1.963 31.486 1.276 26.873 Q 0.589 22.261 0.294 18.237 Q 0 14.213 0 11.53 Q 0 11.007 0.033 9.796 Q 0.065 8.586 0.065 7.245 Q 0.065 5.903 0.098 4.693 Q 0.131 3.482 0.131 3.024 Q 0.851 1.65 2.388 1.029 Q 3.926 0.407 5.725 0.178 Q 7.524 -0.051 9.258 0.015 Q 10.992 0.08 12.104 0.08 Q 13.544 0.08 15.474 0.211 Q 17.404 0.342 19.334 0.702 Q 21.265 1.061 23.162 1.748 Q 25.06 2.435 26.532 3.515 Q 28.004 4.595 28.887 6.132 Q 29.771 7.67 29.771 9.764 Q 29.771 12.25 28.593 14.245 Q 27.415 16.241 25.681 17.975 Q 23.947 19.709 21.886 21.214 Q 19.825 22.719 18.091 24.158 Q 16.357 25.598 15.18 27.102 Q 14.002 28.607 14.002 30.374 Q 14.002 30.505 14.1 30.734 Q 14.198 30.963 14.198 31.028 Q 21.919 33.318 29.214 36.59 Q 36.51 39.861 43.576 43.656 Q 43.772 43.787 44.001 44.147 Q 44.23 44.507 44.427 44.997 Q 44.623 45.488 44.819 45.881 Q 45.016 46.273 45.016 46.535 Q 45.016 47.124 44.688 47.418 Q 44.361 47.713 43.903 47.876 Q 43.445 48.04 42.987 48.04 L 42.202 48.04 Q 38.669 48.04 35.168 46.502 Q 31.668 44.965 28.135 43.067 Q 24.602 41.17 20.97 39.6 Q 17.339 38.029 13.413 38.029 Z M 5.627 15.652 Q 5.627 16.503 5.529 17.844 Q 5.431 19.185 5.496 20.592 Q 5.562 21.999 5.921 23.275 Q 6.281 24.551 7.132 25.467 Q 7.263 25.532 7.394 25.532 Q 7.459 25.598 7.721 25.598 Q 8.898 25.598 10.567 24.878 Q 12.235 24.158 14.067 22.98 Q 15.899 21.803 17.699 20.265 Q 19.498 18.727 20.938 17.092 Q 22.377 15.456 23.26 13.787 Q 24.144 12.119 24.144 10.745 Q 24.144 9.436 23.162 8.488 Q 22.181 7.539 20.807 6.95 Q 19.433 6.361 17.96 6.1 Q 16.488 5.838 15.572 5.838 Q 14.46 5.838 12.955 5.805 Q 11.45 5.772 9.978 6.001 Q 8.506 6.23 7.328 6.819 Q 6.15 7.408 5.692 8.586 L 5.692 9.96 L 5.692 12.086 Q 5.692 13.231 5.66 14.213 Q 5.627 15.194 5.627 15.652 Z M 169.855 22.719 Q 169.725 22.719 169.201 23.242 Q 168.678 23.766 168.416 24.093 Q 168.351 24.289 168.351 24.42 Q 168.285 24.551 168.285 24.747 Q 168.285 25.009 168.351 25.14 Q 168.351 25.336 168.416 25.467 Q 168.547 25.728 169.07 26.285 Q 169.594 26.841 169.855 26.841 L 182.483 29.72 Q 184.512 30.178 185.428 32.239 Q 186.344 34.3 186.769 37.211 Q 187.194 40.123 187.391 43.46 Q 187.587 46.797 188.176 49.774 Q 188.765 52.751 189.975 54.91 Q 191.186 57.069 193.672 57.724 Q 194.653 58.051 195.209 57.822 Q 195.766 57.593 196.06 57.167 Q 196.354 56.742 196.453 56.186 Q 196.551 55.63 196.551 55.106 Q 196.551 52.227 195.635 49.545 Q 194.719 46.862 193.639 44.18 Q 192.56 41.497 191.644 38.782 Q 190.728 36.066 190.728 33.187 Q 190.728 32.926 190.793 32.141 Q 190.858 31.355 190.858 31.028 Q 191.447 31.028 192.69 30.995 Q 193.934 30.963 195.438 30.832 Q 196.943 30.701 198.645 30.537 Q 200.346 30.374 201.851 30.243 Q 203.355 30.112 204.566 29.949 Q 205.776 29.785 206.3 29.72 Q 208.066 29.392 208.688 28.804 Q 209.31 28.215 209.31 26.841 Q 209.31 25.009 208.394 24.518 Q 207.478 24.027 205.94 24.224 Q 204.402 24.42 202.439 24.943 Q 200.477 25.467 198.416 25.565 Q 196.354 25.663 194.392 25.009 Q 192.429 24.354 190.891 22.195 Q 189.354 20.036 188.438 16.045 Q 187.521 12.054 187.521 5.445 Q 185.559 5.445 184.479 6.525 Q 183.399 7.604 182.909 9.273 Q 182.418 10.941 182.353 13.002 Q 182.287 15.063 182.451 16.961 Q 182.614 18.858 182.811 20.429 Q 183.007 21.999 183.007 22.719 L 169.855 22.719 Z M 150.03 54.779 Q 151.077 54.059 152.549 52.914 Q 154.021 51.769 155.526 50.461 Q 157.031 49.152 158.34 47.713 Q 159.648 46.273 160.401 44.932 Q 161.153 43.591 161.153 42.413 Q 161.153 41.235 159.976 40.45 Q 157.882 40.45 155.396 40.614 Q 152.909 40.777 150.423 40.745 Q 147.937 40.712 145.614 40.319 Q 143.291 39.927 141.459 38.88 Q 139.627 37.833 138.547 35.903 Q 137.468 33.973 137.468 30.963 Q 137.468 27.43 138.809 24.583 Q 140.15 21.737 142.375 19.545 Q 144.6 17.353 147.38 15.685 Q 150.161 14.016 152.975 12.839 Q 154.676 13.297 156.115 14.475 Q 157.555 15.652 158.602 17.092 Q 158.144 18.531 156.802 19.316 Q 155.461 20.101 153.727 20.69 Q 151.993 21.279 150.096 21.933 Q 148.198 22.588 146.661 23.667 Q 145.123 24.747 144.076 26.481 Q 143.029 28.215 143.029 31.028 Q 143.029 33.122 144.076 34.103 Q 145.123 35.085 146.824 35.445 Q 148.525 35.805 150.685 35.706 Q 152.844 35.608 155.101 35.412 Q 157.358 35.216 159.518 35.183 Q 161.677 35.15 163.378 35.706 Q 165.079 36.263 166.093 37.506 Q 167.107 38.749 167.107 41.17 Q 167.107 42.217 166.42 43.852 Q 165.733 45.488 164.588 47.353 Q 163.443 49.218 161.906 51.05 Q 160.368 52.882 158.7 54.354 Q 157.031 55.826 155.363 56.775 Q 153.694 57.724 152.255 57.724 Q 150.881 57.724 150.456 56.742 Q 150.03 55.761 150.03 54.779 Z M 47.633 39.534 Q 47.633 36.001 48.483 32.468 Q 49.334 28.934 51.199 26.121 Q 53.063 23.308 56.041 21.541 Q 59.018 19.774 63.271 19.774 Q 65.691 19.774 67.523 20.658 Q 69.355 21.541 70.599 22.98 Q 71.842 24.42 72.463 26.35 Q 73.085 28.28 73.085 30.374 Q 73.085 33.711 71.547 36.851 Q 70.01 39.992 67.425 42.38 Q 64.841 44.768 61.504 45.979 Q 58.167 47.189 54.699 46.535 Q 54.765 48.433 55.975 49.578 Q 57.186 50.723 58.887 51.311 Q 60.588 51.9 62.42 52.064 Q 64.252 52.227 65.691 52.227 Q 67.196 52.227 68.505 51.966 Q 69.813 51.704 71.122 51.377 Q 72.431 51.05 73.772 50.788 Q 75.113 50.526 76.618 50.526 Q 77.207 50.526 77.796 50.592 Q 78.385 50.657 78.908 50.886 Q 79.432 51.115 79.759 51.606 Q 80.086 52.097 80.086 52.816 Q 80.086 54.059 79.17 54.877 Q 78.254 55.695 76.847 56.284 Q 75.44 56.873 73.739 57.167 Q 72.038 57.462 70.435 57.625 Q 68.832 57.789 67.491 57.822 Q 66.149 57.854 65.495 57.854 Q 61.308 57.854 57.971 56.513 Q 54.634 55.172 52.344 52.784 Q 50.054 50.395 48.843 47.026 Q 47.633 43.656 47.633 39.534 Z M 54.568 35.281 Q 54.568 37.571 55.19 38.618 Q 55.812 39.665 58.232 39.665 Q 59.934 39.665 61.569 39.043 Q 63.205 38.422 64.546 37.309 Q 65.888 36.197 66.673 34.692 Q 67.458 33.187 67.458 31.421 Q 67.458 30.439 67.294 29.392 Q 67.131 28.346 66.607 27.462 Q 66.084 26.579 65.266 26.023 Q 64.448 25.467 63.14 25.467 Q 61.177 25.467 59.574 26.35 Q 57.971 27.233 56.858 28.64 Q 55.746 30.047 55.157 31.781 Q 54.568 33.515 54.568 35.281 Z M 211.796 39.534 Q 211.796 36.001 212.646 32.468 Q 213.497 28.934 215.362 26.121 Q 217.227 23.308 220.204 21.541 Q 223.181 19.774 227.434 19.774 Q 229.854 19.774 231.687 20.658 Q 233.519 21.541 234.762 22.98 Q 236.005 24.42 236.626 26.35 Q 237.248 28.28 237.248 30.374 Q 237.248 33.711 235.71 36.851 Q 234.173 39.992 231.588 42.38 Q 229.004 44.768 225.667 45.979 Q 222.33 47.189 218.862 46.535 Q 218.928 48.433 220.138 49.578 Q 221.349 50.723 223.05 51.311 Q 224.751 51.9 226.583 52.064 Q 228.415 52.227 229.854 52.227 Q 231.359 52.227 232.668 51.966 Q 233.977 51.704 235.285 51.377 Q 236.594 51.05 237.935 50.788 Q 239.276 50.526 240.781 50.526 Q 241.37 50.526 241.959 50.592 Q 242.548 50.657 243.071 50.886 Q 243.595 51.115 243.922 51.606 Q 244.249 52.097 244.249 52.816 Q 244.249 54.059 243.333 54.877 Q 242.417 55.695 241.01 56.284 Q 239.604 56.873 237.902 57.167 Q 236.201 57.462 234.598 57.625 Q 232.995 57.789 231.654 57.822 Q 230.313 57.854 229.658 57.854 Q 225.471 57.854 222.134 56.513 Q 218.797 55.172 216.507 52.784 Q 214.217 50.395 213.006 47.026 Q 211.796 43.656 211.796 39.534 Z M 218.731 35.281 Q 218.731 37.571 219.353 38.618 Q 219.975 39.665 222.396 39.665 Q 224.097 39.665 225.732 39.043 Q 227.368 38.422 228.709 37.309 Q 230.051 36.197 230.836 34.692 Q 231.621 33.187 231.621 31.421 Q 231.621 30.439 231.458 29.392 Q 231.294 28.346 230.771 27.462 Q 230.247 26.579 229.429 26.023 Q 228.611 25.467 227.303 25.467 Q 225.34 25.467 223.737 26.35 Q 222.134 27.233 221.021 28.64 Q 219.909 30.047 219.32 31.781 Q 218.731 33.515 218.731 35.281 Z M 275.655 35.281 L 275.001 35.281 L 272.188 32.468 Q 272.057 32.468 271.991 32.402 Q 271.86 32.402 271.762 32.37 Q 271.664 32.337 271.533 32.337 Q 269.243 32.337 267.967 33.613 Q 266.691 34.889 266.037 36.753 Q 265.383 38.618 265.219 40.679 Q 265.056 42.74 265.056 44.441 Q 265.056 45.75 265.317 47.091 Q 265.579 48.433 265.906 49.708 Q 266.233 50.984 266.495 52.326 Q 266.757 53.667 266.757 55.106 Q 266.757 57.854 263.813 57.854 Q 262.177 57.854 260.41 56.12 Q 258.644 54.387 256.91 51.704 Q 255.176 49.021 253.605 45.783 Q 252.035 42.544 250.857 39.469 Q 249.68 36.393 248.993 33.907 Q 248.306 31.421 248.306 30.243 Q 248.306 29.654 248.371 29.033 Q 248.437 28.411 248.633 27.92 Q 248.829 27.43 249.254 27.102 Q 249.68 26.775 250.465 26.775 Q 251.119 26.775 251.937 27.789 Q 252.755 28.804 253.605 30.341 Q 254.456 31.879 255.274 33.711 Q 256.092 35.543 256.713 37.08 Q 257.335 38.618 257.728 39.73 Q 258.12 40.843 258.186 40.908 Q 259.036 38.618 260.083 35.935 Q 261.13 33.253 262.667 30.93 Q 264.205 28.607 266.332 27.037 Q 268.458 25.467 271.533 25.467 Q 273.104 25.467 274.51 25.957 Q 275.917 26.448 276.997 27.397 Q 278.076 28.346 278.73 29.654 Q 279.385 30.963 279.385 32.664 Q 279.385 34.103 278.24 34.692 Q 277.095 35.281 275.655 35.281 Z M 124.774 33.187 Q 124.774 32.795 124.807 31.912 Q 124.84 31.028 124.873 30.047 Q 124.905 29.065 124.938 28.149 Q 124.971 27.233 124.971 26.841 Q 125.69 25.794 126.835 25.14 Q 127.98 24.485 129.158 24.093 Q 129.354 27.626 130.271 31.617 Q 131.187 35.608 132.233 39.632 Q 133.28 43.656 134.098 47.582 Q 134.916 51.508 134.916 54.91 Q 134.916 57.854 131.906 57.854 Q 130.074 57.854 128.831 56.35 Q 127.588 54.845 126.835 52.522 Q 126.083 50.199 125.625 47.353 Q 125.167 44.507 125.003 41.759 Q 124.84 39.011 124.807 36.721 Q 124.774 34.431 124.774 33.187 Z M 125.69 8.651 Q 126.934 9.175 127.784 10.352 Q 128.635 11.53 128.537 12.479 Q 128.438 13.428 127.064 13.787 Q 125.69 14.147 122.484 13.035 Q 122.484 11.268 123.171 9.96 Q 123.858 8.651 125.69 8.651 Z";
  
  const canvasRef = useRef(null);   
  const requestRef = useRef();
  const timeRef = useRef(0);
  const fpsInterval = 1000 / fps;

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;

    const rc = rough.canvas(canvas);
    const ctx = canvas.getContext('2d');
    let lastDrawTime = performance.now();

    const animate = (currentTime) => {
      requestRef.current = requestAnimationFrame(animate);
      const elapsed = currentTime - lastDrawTime;

      if (elapsed > fpsInterval) {
        lastDrawTime = currentTime - (elapsed % fpsInterval);
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        const originalIconSize = 112;
        const targetIconHeight = canvas.height * 0.6;
        const scale = targetIconHeight / originalIconSize;
        const yOffset = (canvas.height - (originalIconSize * scale)) / 2;


        ctx.save();
        ctx.translate(20, yOffset); 
        ctx.scale(scale, scale);
        rc.path('m83.883 51.659 -7.541 -7.541L26.667 93.792V101.333h7.541zm7.541 -7.541 7.541 -7.541 -7.541 -7.541 -7.541 7.541zM38.624 112H16v-22.629L87.653 17.717a5.333 5.333 0 0 1 7.541 0l15.088 15.088a5.333 5.333 0 0 1 0 7.541L38.629 112z', {
          stroke: '#000',
          strokeWidth: 1.2,
          roughness: 0.7 ,
          bowing: 1.5,
          fill: 'black',
          fillStyle: 'hachure',
          hachureGap: 3
        });
        ctx.restore();


        const iconWidth = originalIconSize * scale;
        const textXOffset = iconWidth + 40; 

        ctx.save();
        ctx.translate(textXOffset, yOffset + 5); 
        ctx.scale(scale * 1.2, scale * 1.2); 
        
        if(isTitle)
        {
           rc.path(TITLE_SVG_PATH, {
          stroke: '#000',
          strokeWidth: 1.2,
          roughness: 0.7 ,
          bowing: 1.5,
          fill: 'black',
          fillStyle: 'hachure',
          hachureGap: 3
        });
        }
        else
        if(isLogin)
        {
            rc.path(LOGIN_SVG_PATH, {
          stroke: '#000',
          strokeWidth: 1.2,
          roughness: 0.7 ,
          bowing: 1.5,
          fill: 'black',
          fillStyle: 'hachure',
          hachureGap: 3
        });
        }
        else
        if(isRegister)
        {
            rc.path(REGISTER_SVG_PATH, {
          stroke: '#000',
          strokeWidth: 1.2,
          roughness: 0.7 ,
          bowing: 1.5,
          fill: 'black',
          fillStyle: 'hachure',
          hachureGap: 3
        });
        }
        ctx.restore();

        timeRef.current += 0.07;
      }
    };

    requestRef.current = requestAnimationFrame(animate);
    return () => cancelAnimationFrame(requestRef.current);
  }, [fpsInterval, color, stroke, strokeWidth, text, width, height, isTitle, isLogin, isRegister]);

  return (
    <canvas 
      ref={canvasRef} 
      width={width} 
      height={height} 
      className="max-w-full h-auto block" 
    />
  );
};

export default SketchTitleComponent;
